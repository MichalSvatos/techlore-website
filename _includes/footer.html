{% include variables.html %}
{% assign nav = site.data._en.navigation %}

<footer class="footer pt-0">
	{% include wave.html isFooter=true %}

	<a href="#top" class="footer__top-button js-go-top-button button is-primary" data-visibility="true">
		{% include e_render-svg-icon.html icon="arrow-down" inline=true dimension=75 %}
	</a>

	<div class="container is-max-desktop">
		<div class="columns has-1-cols has-3-cols-tablet has-5-cols-desktop is-multiline">
			<div class="column">
				<h6 class="footer__column-title">{{ site.name | upcase }}</h6>
				<ul class="footer__list listless">
					<li class="footer__list-item"><a href="{{ nav.mainNav.about.url | relative_url }}" class="footer__link is-touch-friendly">{{ nav.mainNav.about.title }}</a></li>
					<li class="footer__list-item"><a href="{{ nav.mainNav.forum.url | relative_url }}" class="footer__link is-touch-friendly" target="_blank">{{ nav.mainNav.forum.title }}{%- include e_render-svg-icon.html icon="arrow-up-right" inline=true class="svg-icon--new-window" -%}</a></li>
					<li class="footer__list-item"><a href="{{ nav.mainNav.blog.url | relative_url }}" class="footer__link is-touch-friendly" target="_blank">{{ nav.mainNav.blog.title }}{%- include e_render-svg-icon.html icon="arrow-up-right" inline=true class="svg-icon--new-window" -%}</a></li>
					<li class="footer__list-item"><a href="{{ nav.footerNav.contact.url | relative_url }}" class="footer__link is-touch-friendly">{{ nav.footerNav.contact.title }}</a></li>
					<li class="footer__list-item"><a href="{{ nav.hiddenNav.privacy.url | relative_url }}" class="footer__link is-touch-friendly">{{ nav.hiddenNav.privacy.title }}</a></li>
				</ul>
			</div>
			<div class="column">
				<h6 class="footer__column-title">{{ t.videos.title | upcase }}</h6>
				<ul class="footer__list listless">
					<li class="footer__list-item"><a href="{{ nav.mainNav.videos.url | relative_url }}" class="footer__link is-touch-friendly">{{ t.videos.techlore.title }}</a></li>
					<li class="footer__list-item"><a href="{{ nav.mainNav.videos.url | relative_url }}#techlore-clips" class="footer__link is-touch-friendly">{{ t.videos.techloreClips.title }}</a>
					</li>
					<li class="footer__list-item">
						<a href="{{ nav.mainNav.videos.url | relative_url }}#surveillance-report" class="footer__link is-touch-friendly">{{ t.videos.surveillanceReport.title }}</a></li>
					<li class="footer__list-item"><a href="{{ nav.mainNav.goincognito.url | relative_url }}" class="footer__link is-touch-friendly">{{ t.goincognito.title }}</a></li>
					<li class="footer__list-item"><a href="{{ site.techloreVideos.links.youtube }}" class="footer__link is-touch-friendly" target="_blank">YouTube{% include e_render-svg-icon.html icon="arrow-up-right" inline=true class="svg-icon--new-window" %}</a></li>
					<li class="footer__list-item"><a href="{{ site.techloreVideos.links.peertube }}" class="footer__link is-touch-friendly" target="_blank">PeerTube{% include e_render-svg-icon.html icon="arrow-up-right" inline=true class="svg-icon--new-window" %}</a></li>
				</ul>
			</div>
			<div class="column">
				<h6 class="footer__column-title">{{ t.resources.title | upcase }}</h6>
				<ul class="footer__list listless">
					<li class="footer__list-item"><a href="{{ nav.hiddenNav.spaQuiz.url | relative_url }}" class="footer__link is-touch-friendly">{{ nav.hiddenNav.spaQuiz.title }}</a></li>
					<li class="footer__list-item"><a href="{{ nav.hiddenNav.vpnToolkit.url | relative_url }}" class="footer__link is-touch-friendly">{{ nav.hiddenNav.vpnToolkit.title }}</a></li>
					<li class="footer__list-item"><a href="{{ nav.hiddenNav.plexus.url | relative_url }}" class="footer__link is-touch-friendly" target="_blank">{{ nav.hiddenNav.plexus.title }}{%- include e_render-svg-icon.html icon="arrow-up-right" inline=true class="svg-icon--new-window" -%}</a>
					</li>
					<li class="footer__list-item">
						<a href="{{ nav.mainNav.resources.url | relative_url | append: '#techlore-guides' }}" class="footer__link is-touch-friendly">{{ t.videos.techloreGuides.title }}</a>
					</li>
				</ul>
			</div>
			<div class="column is-full-tablet is-one-fifth-desktop is-flex is-flex-direction-column">
				<div class="footer__column-wrapper">
					{% assign socialLinks = site.socials.links | keys %}
					{% if socialLinks.size > 0 %}
						<h6 class="footer__column-title">{{ t.featureBox.socials.title | upcase }}</h6>
						<ul class="footer__list is-flex is-flex-direction-row is-multiline listless is-gap-1">
							{% for link in socialLinks %}
								{% assign url = link[1] %}
								{% assign icon = link[0] %}
								{% assign tooltipText = site.data._en.content.global.platforms[icon] %}
								{% assign loopIndex = forloop.index0 %}

								{%- capture ariaId -%}
									footer-{{ tooltipText | slugify }}{{ loopIndex }}
								{%- endcapture -%}

								<li class="footer__list-item">
									<a href="{{ url }}" class="footer__button button is-primary is-touch-friendly has-tooltip" target="_blank" data-tooltip="{{ tooltipText }}" aria-labelledby="{{ ariaId }}">
										<span class="is-sr-only" id="{{ ariaId }}">{{ tooltipText }}</span>
										{% include e_render-svg-icon.html icon=icon dimension=25 inline=true class="icon" %}
									</a>
								</li>
							{% endfor %}
						</ul>
					{% endif %}
				</div>
				<div class="footer__column-wrapper">
					{% assign paymentLinks = site.support.links | keys %}
					{% if paymentLinks.size > 0 %}
						<h6 class="footer__column-title">{{ t.support.title | upcase }}</h6>
						<ul class="footer__list is-flex is-flex-direction-row is-multiline listless is-gap-1">
							{% for link in paymentLinks %}
								{% assign url = link[1] %}
								{% assign icon = link[0] %}
								{% assign tooltipText = site.data._en.content.global.platforms[icon] %}
								{% assign loopIndex = forloop.index0 %}

								{%- capture ariaId -%}
									footer-{{ tooltipText | slugify }}{{ loopIndex }}
								{%- endcapture -%}

								<li class="footer__list-item">
									<a href="{{ url }}" class="footer__button button is-primary is-touch-friendly has-tooltip" target="_blank" data-tooltip="{{ tooltipText }}" aria-labelledby="{{ ariaId }}">
										<span class="is-sr-only" id="{{ ariaId }}">{{ tooltipText }}</span>
										{% include e_render-svg-icon.html icon=icon dimension=25 inline=true class="icon" %}
									</a>
								</li>
							{% endfor %}
						</ul>
					{% endif %}
				</div>
			</div>
		</div>
		<div class="is-size-7 has-text-centered has-text-white mt-6">
			{{ site.name }} &copy; {{ 'now' | date: '%Y' }}
		</div>
	</div>
</footer>

{% assign vpnPermalink = site.data._en.navigation.hiddenNav.vpnToolkit.url %}
{% if page.permalink == vpnPermalink %}
	{% comment %}
		TODO: Remove SvelteJS, rewrite with vanilla JS
	{% endcomment %}
	<script src="{{ "/assets/vendors/sveltejs/svelte.min.js" | relative_url }}{{ 'now' | date: '%s' | prepend: "?" }}"></script>
	<script src="{{ "/assets/vendors/tabulator/tabulator.min.js" | relative_url }}{{ 'now' | date: '%s' | prepend: "?" }}"></script>
	<script src="{{ "/assets/js/vpn-chart.js" | relative_url }}{{ 'now' | date: '%s' | prepend: "?" }}"></script>
{% endif %}

{% assign spaPermalink = site.data._en.navigation.hiddenNav.spaQuiz.url %}
{% if page.permalink == spaPermalink %}
	<script src="{{ "/assets/vendors/sveltejs/svelte.min.js" | relative_url }}{{ 'now' | date: '%s' | prepend: "?" }}"></script>
	<script src="{{ "/assets/vendors/circle-progress/circle-progress.min.js" | relative_url }}{{ 'now' | date: '%s' | prepend: "?" }}"></script>
	<script src="{{ "/assets/js/spa-quiz.js" | relative_url }}{{ 'now' | date: '%s' | prepend: "?" }}"></script>
{% endif %}

{% if page.url == "/" %}
	<script src="{{ "/assets/js/textscramble.js" | relative_url }}{{ 'now' | date: '%s' | prepend: "?" }}"></script>
{% endif %}

<script src="{{ "/assets/js/main.js" | relative_url }}{{ 'now' | date: '%s' | prepend: "?" }}"></script>
